# This file was auto-generated by Fern from our API Definition.

import typing

from ..commons.types.settings_schema import SettingsSchema
from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..developers_commons.types.app_capability import AppCapability
from ..developers_commons.types.app_category import AppCategory
from ..developers_commons.types.app_visibility import AppVisibility
from ..developers_commons.types.github_repository import GithubRepository
from ..developers_commons.types.link import Link
from .raw_client import AsyncRawIntegrationsClient, RawIntegrationsClient

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class IntegrationsClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawIntegrationsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawIntegrationsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawIntegrationsClient
        """
        return self._raw_client

    def update(
        self,
        organization_id: str,
        integration_id: str,
        *,
        settings_schema: typing.Optional[SettingsSchema] = OMIT,
        github_repository: typing.Optional[GithubRepository] = OMIT,
        github_branch: typing.Optional[str] = OMIT,
        visibility: typing.Optional[AppVisibility] = OMIT,
        developer_organization_id: typing.Optional[str] = OMIT,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        short_description: typing.Optional[str] = OMIT,
        installation_instructions: typing.Optional[str] = OMIT,
        instructions: typing.Optional[str] = OMIT,
        preview_url: typing.Optional[str] = OMIT,
        links: typing.Optional[typing.Sequence[Link]] = OMIT,
        categories: typing.Optional[typing.Sequence[AppCategory]] = OMIT,
        capabilities: typing.Optional[typing.Sequence[AppCapability]] = OMIT,
        preinstalled: typing.Optional[bool] = OMIT,
        whitelisted_organizations: typing.Optional[typing.Sequence[str]] = OMIT,
        requested_permissions: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        Update an integration.

        Parameters
        ----------
        organization_id : str

        integration_id : str

        settings_schema : typing.Optional[SettingsSchema]

        github_repository : typing.Optional[GithubRepository]

        github_branch : typing.Optional[str]

        visibility : typing.Optional[AppVisibility]

        developer_organization_id : typing.Optional[str]

        name : typing.Optional[str]

        description : typing.Optional[str]

        short_description : typing.Optional[str]

        installation_instructions : typing.Optional[str]

        instructions : typing.Optional[str]

        preview_url : typing.Optional[str]

        links : typing.Optional[typing.Sequence[Link]]

        categories : typing.Optional[typing.Sequence[AppCategory]]

        capabilities : typing.Optional[typing.Sequence[AppCapability]]

        preinstalled : typing.Optional[bool]

        whitelisted_organizations : typing.Optional[typing.Sequence[str]]

        requested_permissions : typing.Optional[typing.Sequence[str]]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from mavenagi import MavenAGI

        client = MavenAGI(
            organization_id="YOUR_ORGANIZATION_ID",
            agent_id="YOUR_AGENT_ID",
            app_id="YOUR_APP_ID",
            app_secret="YOUR_APP_SECRET",
        )
        client.integrations.update(
            organization_id="organizationId",
            integration_id="integrationId",
        )
        """
        _response = self._raw_client.update(
            organization_id,
            integration_id,
            settings_schema=settings_schema,
            github_repository=github_repository,
            github_branch=github_branch,
            visibility=visibility,
            developer_organization_id=developer_organization_id,
            name=name,
            description=description,
            short_description=short_description,
            installation_instructions=installation_instructions,
            instructions=instructions,
            preview_url=preview_url,
            links=links,
            categories=categories,
            capabilities=capabilities,
            preinstalled=preinstalled,
            whitelisted_organizations=whitelisted_organizations,
            requested_permissions=requested_permissions,
            request_options=request_options,
        )
        return _response.data


class AsyncIntegrationsClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawIntegrationsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawIntegrationsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawIntegrationsClient
        """
        return self._raw_client

    async def update(
        self,
        organization_id: str,
        integration_id: str,
        *,
        settings_schema: typing.Optional[SettingsSchema] = OMIT,
        github_repository: typing.Optional[GithubRepository] = OMIT,
        github_branch: typing.Optional[str] = OMIT,
        visibility: typing.Optional[AppVisibility] = OMIT,
        developer_organization_id: typing.Optional[str] = OMIT,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        short_description: typing.Optional[str] = OMIT,
        installation_instructions: typing.Optional[str] = OMIT,
        instructions: typing.Optional[str] = OMIT,
        preview_url: typing.Optional[str] = OMIT,
        links: typing.Optional[typing.Sequence[Link]] = OMIT,
        categories: typing.Optional[typing.Sequence[AppCategory]] = OMIT,
        capabilities: typing.Optional[typing.Sequence[AppCapability]] = OMIT,
        preinstalled: typing.Optional[bool] = OMIT,
        whitelisted_organizations: typing.Optional[typing.Sequence[str]] = OMIT,
        requested_permissions: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        Update an integration.

        Parameters
        ----------
        organization_id : str

        integration_id : str

        settings_schema : typing.Optional[SettingsSchema]

        github_repository : typing.Optional[GithubRepository]

        github_branch : typing.Optional[str]

        visibility : typing.Optional[AppVisibility]

        developer_organization_id : typing.Optional[str]

        name : typing.Optional[str]

        description : typing.Optional[str]

        short_description : typing.Optional[str]

        installation_instructions : typing.Optional[str]

        instructions : typing.Optional[str]

        preview_url : typing.Optional[str]

        links : typing.Optional[typing.Sequence[Link]]

        categories : typing.Optional[typing.Sequence[AppCategory]]

        capabilities : typing.Optional[typing.Sequence[AppCapability]]

        preinstalled : typing.Optional[bool]

        whitelisted_organizations : typing.Optional[typing.Sequence[str]]

        requested_permissions : typing.Optional[typing.Sequence[str]]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from mavenagi import AsyncMavenAGI

        client = AsyncMavenAGI(
            organization_id="YOUR_ORGANIZATION_ID",
            agent_id="YOUR_AGENT_ID",
            app_id="YOUR_APP_ID",
            app_secret="YOUR_APP_SECRET",
        )


        async def main() -> None:
            await client.integrations.update(
                organization_id="organizationId",
                integration_id="integrationId",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update(
            organization_id,
            integration_id,
            settings_schema=settings_schema,
            github_repository=github_repository,
            github_branch=github_branch,
            visibility=visibility,
            developer_organization_id=developer_organization_id,
            name=name,
            description=description,
            short_description=short_description,
            installation_instructions=installation_instructions,
            instructions=instructions,
            preview_url=preview_url,
            links=links,
            categories=categories,
            capabilities=capabilities,
            preinstalled=preinstalled,
            whitelisted_organizations=whitelisted_organizations,
            requested_permissions=requested_permissions,
            request_options=request_options,
        )
        return _response.data
